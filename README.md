# Runtime Detector

[![npm version](https://img.shields.io/npm/v/runtime-detector.svg)](https://www.npmjs.com/package/runtime-detector)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Bundle Size](https://img.shields.io/bundlephobia/minzip/runtime-detector)](https://bundlephobia.com/package/runtime-detector)

A lightweight, type-safe runtime environment detector for JavaScript/TypeScript applications. Easily detect and handle code execution in Bun, Node.js, Deno, and Browser environments.

## üöÄ Key Features

- **Environment Callbacks**: Execute code through environment-specific callback functions
- **Return Values**: Callback functions can return values for further processing
- **Zero Dependencies**: No external dependencies
- **TypeScript Ready**: Full TypeScript support with type definitions included
- **Lightweight**: Only ~1.1KB minzipped
- **Universal Detection**: Supports Bun, Node.js, Deno, and Browser environments
- **Flexible API**: Both synchronous and asynchronous operations
- **Type Safety**: Environment-specific code execution with TypeScript type checking
- **Tree-Shakeable**: Import only what you need
- **Dual Package**: Supports both ESM (MJS) and CommonJS (CJS)

## üì¶ Installation

```bash
# Using npm
npm install runtime-detector

# Using yarn
yarn add runtime-detector

# Using pnpm
pnpm add runtime-detector

# Using bun
bun add runtime-detector
```

## üìù Module Support

runtime-detector supports both ESM (ECMAScript Modules) and CommonJS formats.

```javascript
// ESM (MJS)
import { currentEnv, isNodejs } from "runtime-detector";

// CommonJS (CJS)
const { currentEnv, isNodejs } = require("runtime-detector");
```

## üéØ Quick Start

### Basic Environment Detection

```typescript
import { currentEnv, isNodejs, isBrowser } from "runtime-detector";

// Configuration setup example
function setupConfig() {
  const { name, version, browserName } = currentEnv;
  
  // Set environment-specific logging levels
  const config = {
    logLevel: isNodejs ? 'verbose' : 'error',
    maxRetries: isBrowser ? 3 : 5,
    timeout: isBrowser ? 5000 : 10000,
    features: {
      cache: isNodejs || browserName === 'Chrome',
      analytics: isBrowser && browserName !== 'Firefox',
      ssr: !isBrowser
    }
  };

  return config;
}
```

### Environment-Specific Code Execution

```typescript
import { inNodejs, inBrowser, inBun, inDeno } from "runtime-detector";

// File handling across different environments
function saveData(content: string) {
  // Node.js: Use fs with proper error handling
  inNodejs((env) => {
    const fs = require('fs').promises;
    return fs.writeFile('data.json', content)
      .catch(err => console.error(`Failed to write file in Node.js ${env.version}:`, err));
  });

  // Browser: Use localStorage with size check
  inBrowser((env) => {
    try {
      const maxSize = 5 * 1024 * 1024; // 5MB
      if (content.length > maxSize) {
        throw new Error('Content too large for localStorage');
      }
      localStorage.setItem('data', content);
      console.log(`Data saved in ${env.browserName}`);
    } catch (err) {
      console.error('Storage failed:', err);
    }
  });

  // Bun: Use fast native file API
  inBun((env) => {
    try {
      Bun.write('data.json', content);
      console.log(`File written using Bun ${env.version}`);
    } catch (err) {
      console.error('Bun write failed:', err);
    }
  });

  // Deno: Use native APIs with permissions
  inDeno((env) => {
    try {
      Deno.writeTextFileSync('data.json', content);
      console.log(`File written in Deno ${env.version}`);
    } catch (err) {
      console.error('Deno write failed:', err);
    }
  });
}
```

### Async Operations with Error Handling

```typescript
import { inNodejsAsync, inBrowserAsync } from "runtime-detector";

// API client with environment-specific optimizations
class APIClient {
  async fetchData(endpoint: string) {
    // Browser: Use native fetch with timeout
    const browserData = await inBrowserAsync(async (env) => {
      const controller = new AbortController();
      const timeoutId = setTimeout(() => controller.abort(), 5000);
      
      try {
        const response = await fetch(endpoint, {
          headers: {
            'User-Agent': `WebApp/${env.browserName}`,
            'Accept': 'application/json'
          },
          signal: controller.signal
        });
        
        if (!response.ok) throw new Error(`HTTP ${response.status}`);
        return await response.json();
      } catch (err) {
        console.error(`Browser fetch failed:`, err);
        throw err;
      } finally {
        clearTimeout(timeoutId);
      }
    });

    // Node.js: Use axios with retries
    const nodeData = await inNodejsAsync(async (env) => {
      const axios = require('axios');
      let retries = 3;
      
      while (retries > 0) {
        try {
          const response = await axios.get(endpoint, {
            headers: {
              'User-Agent': `NodeApp/${env.version}`,
              'Accept': 'application/json'
            },
            timeout: 5000
          });
          return response.data;
        } catch (err) {
          retries--;
          if (retries === 0) throw err;
          await new Promise(resolve => setTimeout(resolve, 1000));
        }
      }
    });

    return browserData || nodeData;
  }
}
```

### Feature Detection and Optimization

```typescript
import { onNotNodejs, onNotBrowser } from "runtime-detector";

// Cache system optimization example
function setupCache(data: any) {
  // Use Redis in server environments
  onNotBrowser(async (env) => {
    const Redis = require('redis');
    const client = Redis.createClient();
    
    try {
      await client.connect();
      await client.set('app:cache', JSON.stringify(data));
      console.log(`Redis cache setup in ${env.name}`);
    } catch (err) {
      console.error(`Cache setup failed in ${env.name}:`, err);
      // Fallback to in-memory cache
      global.__cache = data;
    }
  });

  // Use IndexedDB in browser
  inBrowser((env) => {
    const request = indexedDB.open('appCache', 1);
    
    request.onerror = () => {
      console.error(`IndexedDB failed in ${env.browserName}`);
      // Fallback to sessionStorage
      sessionStorage.setItem('cache', JSON.stringify(data));
    };

    request.onsuccess = (event: any) => {
      const db = event.target.result;
      const tx = db.transaction('cache', 'readwrite');
      tx.objectStore('cache').put(data, 'appData');
    };
  });
}
```

## üìö API Reference

### Environment Information

- `currentEnv`: Current environment details
  - `name`: Runtime name (e.g., "Node.js", "Bun")
  - `version`: Runtime version
  - `browserName`: Browser name (if applicable)

### Environment Checks

```typescript
import {
  isBrowser,     // true in browser environments
  isNodejs,      // true in Node.js
  isBun,         // true in Bun
  isDeno,        // true in Deno
  isUnknown,     // true when environment cannot be detected
  isNotBrowser,  // true in non-browser environments
  isNotNodejs,   // true in non-Node.js environments
  isNotBun,      // true in non-Bun environments
  isNotDeno,     // true in non-Deno environments
  isNotUnknown   // true when environment is successfully detected
} from "runtime-detector";
```

### Synchronous Execution APIs

#### Preferred Functions (Recommended)

| Function                 | Description            |
| ------------------------ | ---------------------- |
| `inBrowser(callback)`    | Execute in browser     |
| `inNodejs(callback)`     | Execute in Node.js     |
| `inBun(callback)`        | Execute in Bun         |
| `inDeno(callback)`       | Execute in Deno        |
| `onNotBrowser(callback)` | Execute in non-browser |
| `onNotNodejs(callback)`  | Execute in non-Node.js |
| `onNotBun(callback)`     | Execute in non-Bun     |
| `onNotDeno(callback)`    | Execute in non-Deno    |
| `onUnknown(callback)`    | Execute in unknown env |

#### Deprecated Functions (Legacy Support)

> ‚ö†Ô∏è **Deprecated**: These functions are still available but will be removed in a future version. Please use the preferred functions above.

| Function                 | Preferred Alternative |
| ------------------------ | --------------------- |
| `onBrowser(callback)`    | `inBrowser(callback)` |
| `onNodejs(callback)`     | `inNodejs(callback)`  |
| `onBun(callback)`        | `inBun(callback)`     |
| `onDeno(callback)`       | `inDeno(callback)`    |

### Asynchronous Execution APIs

#### Preferred Functions (Recommended)

| Function                      | Description                  |
| ----------------------------- | ---------------------------- |
| `inBrowserAsync(callback)`    | Async execute in browser     |
| `inNodejsAsync(callback)`     | Async execute in Node.js     |
| `inBunAsync(callback)`        | Async execute in Bun         |
| `inDenoAsync(callback)`       | Async execute in Deno        |
| `onNotBrowserAsync(callback)` | Async execute in non-browser |
| `onNotNodejsAsync(callback)`  | Async execute in non-Node.js |
| `onNotBunAsync(callback)`     | Async execute in non-Bun     |
| `onNotDenoAsync(callback)`    | Async execute in non-Deno    |
| `onUnknownAsync(callback)`    | Async execute in unknown env |

#### Deprecated Functions (Legacy Support)

> ‚ö†Ô∏è **Deprecated**: These functions are still available but will be removed in a future version. Please use the preferred functions above.

| Function                      | Preferred Alternative        |
| ----------------------------- | ---------------------------- |
| `onBrowserAsync(callback)`    | `inBrowserAsync(callback)`   |
| `onNodejsAsync(callback)`     | `inNodejsAsync(callback)`    |
| `onBunAsync(callback)`        | `inBunAsync(callback)`       |
| `onDenoAsync(callback)`       | `inDenoAsync(callback)`      |

## üìã Release Notes

### 1.2.1

- üìö **Documentation**: Comprehensive JSDoc improvements
  - Added detailed JSDoc comments for all functions and types
  - Improved examples and usage documentation
  - Added `@deprecated` tags for legacy functions
  - Enhanced type documentation and cross-references

- ‚ú® **API Enhancement**: Introduced preferred function naming
  - New preferred functions: `inBrowser`, `inNodejs`, `inBun`, `inDeno`, `inBrowserAsync`, etc.
  - Legacy functions (`onBrowser`, `onNodejs`, etc.) are now deprecated but still supported
  - Added new environment detection flags: `isUnknown`, `isNotUnknown`
  - All deprecated functions include proper migration guidance

### 1.2.0

- üêõ **Bug Fix**: Fixed critical issue where `on*` functions could potentially execute in incorrect environments
  - Previously, code within environment-specific functions could sometimes run in unintended environments
  - Now strictly enforces environment checks before executing any code
  - Affects all environment-specific functions (`onNodejs`, `onBrowser`, `onBun`, `onDeno`, etc.)

## ü§ù Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## üìÑ License

[MIT License](LICENSE) - feel free to use this project in your applications.

---

# Runtime Detector (ÌïúÍµ≠Ïñ¥)

[![npm version](https://img.shields.io/npm/v/runtime-detector.svg)](https://www.npmjs.com/package/runtime-detector)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Bundle Size](https://img.shields.io/bundlephobia/minzip/runtime-detector)](https://bundlephobia.com/package/runtime-detector)

JavaScript/TypeScript Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏùÑ ÏúÑÌïú Í≤ΩÎüâ Îü∞ÌÉÄÏûÑ ÌôòÍ≤Ω Í∞êÏßÄ ÎùºÏù¥Î∏åÎü¨Î¶¨ÏûÖÎãàÎã§. Bun, Node.js, Deno, Î∏åÎùºÏö∞Ï†Ä ÌôòÍ≤ΩÏùÑ ÏâΩÍ≤å Í∞êÏßÄÌïòÍ≥† Ï≤òÎ¶¨Ìï† Ïàò ÏûàÏäµÎãàÎã§.

## üöÄ Ï£ºÏöî Í∏∞Îä•

- **ÌôòÍ≤ΩÎ≥Ñ ÏΩúÎ∞±**: ÌôòÍ≤ΩÎ≥Ñ ÏΩúÎ∞± Ìï®ÏàòÎ•º ÌÜµÌïú ÏΩîÎìú Ïã§Ìñâ ÏßÄÏõê
- **Î∞òÌôòÍ∞í ÏßÄÏõê**: ÏΩúÎ∞± Ìï®ÏàòÏóêÏÑú Í∞íÏùÑ Î∞òÌôòÌïòÏó¨ Ï∂îÍ∞Ä Ï≤òÎ¶¨ Í∞ÄÎä•
- **ÏùòÏ°¥ÏÑ± ÏóÜÏùå**: Ïô∏Î∂Ä ÏùòÏ°¥ÏÑ±Ïù¥ ÏóÜÏùå
- **TypeScript ÏßÄÏõê**: ÌÉÄÏûÖ Ï†ïÏùòÍ∞Ä Ìè¨Ìï®Îêú ÏôÑÎ≤ΩÌïú TypeScript ÏßÄÏõê
- **Í≤ΩÎüâÌôî**: ÏïΩ 7KB (ÏïïÏ∂ï Ïãú)
- **Îã§ÏñëÌïú ÌôòÍ≤Ω Í∞êÏßÄ**: Bun, Node.js, Deno, Î∏åÎùºÏö∞Ï†Ä ÌôòÍ≤Ω ÏßÄÏõê
- **Ïú†Ïó∞Ìïú API**: ÎèôÍ∏∞ Î∞è ÎπÑÎèôÍ∏∞ ÏûëÏóÖ Î™®Îëê ÏßÄÏõê
- **ÌÉÄÏûÖ ÏïàÏ†ÑÏÑ±**: TypeScript ÌÉÄÏûÖ Ï≤¥ÌÅ¨ÏôÄ Ìï®Íªò ÌôòÍ≤ΩÎ≥Ñ ÏΩîÎìú Ïã§Ìñâ
- **Ìä∏Î¶¨ ÏâêÏù¥ÌÇπ**: ÌïÑÏöîÌïú Í∏∞Îä•Îßå ÏûÑÌè¨Ìä∏ Í∞ÄÎä•
- **ÎìÄÏñº Ìå®ÌÇ§ÏßÄ**: ESM(MJS)ÏôÄ CommonJS(CJS) Î™®Îëê ÏßÄÏõê

## üì¶ ÏÑ§Ïπò

```bash
# npm ÏÇ¨Ïö©
npm install runtime-detector

# yarn ÏÇ¨Ïö©
yarn add runtime-detector

# pnpm ÏÇ¨Ïö©
pnpm add runtime-detector

# bun ÏÇ¨Ïö©
bun add runtime-detector
```

## üìù Î™®Îìà ÏßÄÏõê

runtime-detectorÎäî ESM(ECMAScript Modules)Í≥º CommonJS ÌòïÏãùÏùÑ Î™®Îëê ÏßÄÏõêÌï©ÎãàÎã§.

```javascript
// ESM (MJS)
import { currentEnv, isNodejs } from "runtime-detector";

// CommonJS (CJS)
const { currentEnv, isNodejs } = require("runtime-detector");
```

## üéØ ÏãúÏûëÌïòÍ∏∞

### Í∏∞Î≥∏ ÌôòÍ≤Ω Í∞êÏßÄ

```typescript
import { currentEnv, isNodejs, isBrowser } from "runtime-detector";

// ÌôòÍ≤ΩÎ≥Ñ ÏÑ§Ï†ï Íµ¨ÏÑ± ÏòàÏ†ú
function setupConfig() {
  const { name, version, browserName } = currentEnv;
  
  // ÌôòÍ≤ΩÎ≥Ñ Î°úÍπÖ Î†àÎ≤® Î∞è ÏÑ§Ï†ï ÏßÄÏ†ï
  const config = {
    logLevel: isNodejs ? 'verbose' : 'error',
    maxRetries: isBrowser ? 3 : 5,
    timeout: isBrowser ? 5000 : 10000,
    features: {
      cache: isNodejs || browserName === 'Chrome',
      analytics: isBrowser && browserName !== 'Firefox',
      ssr: !isBrowser
    }
  };

  return config;
}
```

### ÌôòÍ≤ΩÎ≥Ñ ÏΩîÎìú Ïã§Ìñâ

```typescript
import { inNodejs, inBrowser, inBun, inDeno } from "runtime-detector";

// Îã§ÏñëÌïú ÌôòÍ≤ΩÏóêÏÑúÏùò ÌååÏùº Ï≤òÎ¶¨
function saveData(content: string) {
  // Node.js: fs Î™®Îìà ÏÇ¨Ïö© Î∞è Ïò§Î•ò Ï≤òÎ¶¨
  inNodejs((env) => {
    const fs = require('fs').promises;
    return fs.writeFile('data.json', content)
      .catch(err => console.error(`Node.js ${env.version}ÏóêÏÑú ÌååÏùº Ïì∞Í∏∞ Ïã§Ìå®:`, err));
  });

  // Î∏åÎùºÏö∞Ï†Ä: localStorage ÏÇ¨Ïö© Î∞è Ïö©Îüâ ÌôïÏù∏
  inBrowser((env) => {
    try {
      const maxSize = 5 * 1024 * 1024; // 5MB
      if (content.length > maxSize) {
        throw new Error('localStorage Ïö©Îüâ Ï¥àÍ≥º');
      }
      localStorage.setItem('data', content);
      console.log(`${env.browserName}ÏóêÏÑú Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû• ÏôÑÎ£å`);
    } catch (err) {
      console.error('Ï†ÄÏû• Ïã§Ìå®:', err);
    }
  });

  // Bun: ÎÑ§Ïù¥Ìã∞Î∏å ÌååÏùº API ÌôúÏö©
  inBun((env) => {
    try {
      Bun.write('data.json', content);
      console.log(`Bun ${env.version}ÏóêÏÑú ÌååÏùº ÏûëÏÑ± ÏôÑÎ£å`);
    } catch (err) {
      console.error('Bun Ïì∞Í∏∞ Ïã§Ìå®:', err);
    }
  });

  // Deno: Í∂åÌïú Í¥ÄÎ¶¨ÏôÄ Ìï®Íªò ÎÑ§Ïù¥Ìã∞Î∏å API ÏÇ¨Ïö©
  inDeno((env) => {
    try {
      Deno.writeTextFileSync('data.json', content);
      console.log(`Deno ${env.version}ÏóêÏÑú ÌååÏùº ÏûëÏÑ± ÏôÑÎ£å`);
    } catch (err) {
      console.error('Deno Ïì∞Í∏∞ Ïã§Ìå®:', err);
    }
  });
```

### Ïò§Î•ò Ï≤òÎ¶¨Î•º Ìè¨Ìï®Ìïú ÎπÑÎèôÍ∏∞ ÏûëÏóÖ

```typescript
import { inNodejsAsync, inBrowserAsync } from "runtime-detector";

// ÌôòÍ≤ΩÎ≥Ñ ÏµúÏ†ÅÌôîÎêú API ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏
class APIClient {
  async fetchData(endpoint: string) {
    // Î∏åÎùºÏö∞Ï†Ä: ÌÉÄÏûÑÏïÑÏõÉÏù¥ ÏûàÎäî ÎÑ§Ïù¥Ìã∞Î∏å fetch ÏÇ¨Ïö©
    const browserData = await inBrowserAsync(async (env) => {
      const controller = new AbortController();
      const timeoutId = setTimeout(() => controller.abort(), 5000);
      
      try {
        const response = await fetch(endpoint, {
          headers: {
            'User-Agent': `WebApp/${env.browserName}`,
            'Accept': 'application/json'
          },
          signal: controller.signal
        });
        
        if (!response.ok) throw new Error(`HTTP ${response.status}`);
        return await response.json();
      } catch (err) {
        console.error(`Î∏åÎùºÏö∞Ï†Ä fetch Ïã§Ìå®:`, err);
        throw err;
      } finally {
        clearTimeout(timeoutId);
      }
    });

    // Node.js: axios ÏÇ¨Ïö© Î∞è Ïû¨ÏãúÎèÑ Î°úÏßÅ Íµ¨ÌòÑ
    const nodeData = await inNodejsAsync(async (env) => {
      const axios = require('axios');
      let retries = 3;
      
      while (retries > 0) {
        try {
          const response = await axios.get(endpoint, {
            headers: {
              'User-Agent': `NodeApp/${env.version}`,
              'Accept': 'application/json'
            },
            timeout: 5000
          });
          return response.data;
        } catch (err) {
          retries--;
          if (retries === 0) throw err;
          await new Promise(resolve => setTimeout(resolve, 1000));
        }
      }
    });

    return browserData || nodeData;
  }
}
```

### Í∏∞Îä• Í∞êÏßÄ Î∞è ÏµúÏ†ÅÌôî

```typescript
import { onNotNodejs, onNotBrowser } from "runtime-detector";

// Ï∫êÏãú ÏãúÏä§ÌÖú ÏµúÏ†ÅÌôî ÏòàÏ†ú
function setupCache(data: any) {
  // ÏÑúÎ≤Ñ ÌôòÍ≤ΩÏóêÏÑú Redis ÏÇ¨Ïö©
  onNotBrowser(async (env) => {
    const Redis = require('redis');
    const client = Redis.createClient();
    
    try {
      await client.connect();
      await client.set('app:cache', JSON.stringify(data));
      console.log(`Redis Ï∫êÏãúÍ∞Ä ${env.name}Ïóê ÏÑ§Ï†ïÎê®`);
    } catch (err) {
      console.error(`${env.name}ÏóêÏÑú Ï∫êÏãú ÏÑ§Ï†ï Ïã§Ìå®:`, err);
      // Î©îÎ™®Î¶¨ Ï∫êÏãúÎ°ú ÎåÄÏ≤¥
      global.__cache = data;
    }
  });

  // Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú IndexedDB ÏÇ¨Ïö©
  onBrowser((env) => {
    const request = indexedDB.open('appCache', 1);
    
    request.onerror = () => {
      console.error(`${env.browserName}ÏóêÏÑú IndexedDB Ïã§Ìå®`);
      // sessionStorageÎ°ú ÎåÄÏ≤¥
      sessionStorage.setItem('cache', JSON.stringify(data));
    };

    request.onsuccess = (event: any) => {
      const db = event.target.result;
      const tx = db.transaction('cache', 'readwrite');
      tx.objectStore('cache').put(data, 'appData');
    };
  });
}
```

## üìö API Î†àÌçºÎü∞Ïä§

### ÌôòÍ≤Ω Ï†ïÎ≥¥

- `currentEnv`: ÌòÑÏû¨ ÌôòÍ≤Ω ÏÉÅÏÑ∏ Ï†ïÎ≥¥
  - `name`: Îü∞ÌÉÄÏûÑ Ïù¥Î¶Ñ (Ïòà: "Node.js", "Bun")
  - `version`: Îü∞ÌÉÄÏûÑ Î≤ÑÏ†Ñ
  - `browserName`: Î∏åÎùºÏö∞Ï†Ä Ïù¥Î¶Ñ (Ìï¥ÎãπÎêòÎäî Í≤ΩÏö∞)

### ÌôòÍ≤Ω ÌôïÏù∏

```typescript
import {
  isBrowser,     // Î∏åÎùºÏö∞Ï†Ä ÌôòÍ≤ΩÏóêÏÑú true
  isNodejs,      // Node.jsÏóêÏÑú true
  isBun,         // BunÏóêÏÑú true
  isDeno,        // DenoÏóêÏÑú true
  isUnknown,     // ÌôòÍ≤ΩÏùÑ Í∞êÏßÄÌï† Ïàò ÏóÜÏùÑ Îïå true
  isNotBrowser,  // Î∏åÎùºÏö∞Ï†ÄÍ∞Ä ÏïÑÎãå ÌôòÍ≤ΩÏóêÏÑú true
  isNotNodejs,   // Node.jsÍ∞Ä ÏïÑÎãå ÌôòÍ≤ΩÏóêÏÑú true
  isNotBun,      // BunÏù¥ ÏïÑÎãå ÌôòÍ≤ΩÏóêÏÑú true
  isNotDeno,     // DenoÍ∞Ä ÏïÑÎãå ÌôòÍ≤ΩÏóêÏÑú true
  isNotUnknown   // ÌôòÍ≤ΩÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Í∞êÏßÄÎêòÏóàÏùÑ Îïå true
} from "runtime-detector";
```

### ÎèôÍ∏∞ Ïã§Ìñâ API

#### Í∂åÏû• Ìï®Ïàò (Recommended)

| Ìï®Ïàò                     | ÏÑ§Î™Ö                          |
| ------------------------ | ----------------------------- |
| `inBrowser(callback)`    | Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú Ïã§Ìñâ             |
| `inNodejs(callback)`     | Node.jsÏóêÏÑú Ïã§Ìñâ              |
| `inBun(callback)`        | BunÏóêÏÑú Ïã§Ìñâ                  |
| `inDeno(callback)`       | DenoÏóêÏÑú Ïã§Ìñâ                 |
| `onNotBrowser(callback)` | Î∏åÎùºÏö∞Ï†ÄÍ∞Ä ÏïÑÎãå ÌôòÍ≤ΩÏóêÏÑú Ïã§Ìñâ |
| `onNotNodejs(callback)`  | Node.jsÍ∞Ä ÏïÑÎãå ÌôòÍ≤ΩÏóêÏÑú Ïã§Ìñâ  |
| `onNotBun(callback)`     | BunÏù¥ ÏïÑÎãå ÌôòÍ≤ΩÏóêÏÑú Ïã§Ìñâ      |
| `onNotDeno(callback)`    | DenoÍ∞Ä ÏïÑÎãå ÌôòÍ≤ΩÏóêÏÑú Ïã§Ìñâ     |
| `onUnknown(callback)`    | Ïïå Ïàò ÏóÜÎäî ÌôòÍ≤ΩÏóêÏÑú Ïã§Ìñâ      |

#### Îçî Ïù¥ÏÉÅ ÏÇ¨Ïö©ÎêòÏßÄ ÏïäÎäî Ìï®Ïàò (Legacy Support)

> ‚ö†Ô∏è **Deprecated**: Ïù¥ Ìï®ÏàòÎì§ÏùÄ Ïó¨Ï†ÑÌûà ÏÇ¨Ïö© Í∞ÄÎä•ÌïòÏßÄÎßå Ìñ•ÌõÑ Î≤ÑÏ†ÑÏóêÏÑú Ï†úÍ±∞Îê† ÏòàÏ†ïÏûÖÎãàÎã§. ÏúÑÏùò Í∂åÏû• Ìï®ÏàòÎ•º ÏÇ¨Ïö©Ìï¥ Ï£ºÏÑ∏Ïöî.

| Ìï®Ïàò                     | Í∂åÏû• ÎåÄÏïà                 |
| ------------------------ | ------------------------- |
| `onBrowser(callback)`    | `inBrowser(callback)`     |
| `onNodejs(callback)`     | `inNodejs(callback)`      |
| `onBun(callback)`        | `inBun(callback)`         |
| `onDeno(callback)`       | `inDeno(callback)`        |

### ÎπÑÎèôÍ∏∞ Ïã§Ìñâ API

#### Í∂åÏû• Ìï®Ïàò (Recommended)

| Ìï®Ïàò                          | ÏÑ§Î™Ö                                 |
| ----------------------------- | ------------------------------------ |
| `inBrowserAsync(callback)`    | Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú ÎπÑÎèôÍ∏∞ Ïã§Ìñâ             |
| `inNodejsAsync(callback)`     | Node.jsÏóêÏÑú ÎπÑÎèôÍ∏∞ Ïã§Ìñâ              |
| `inBunAsync(callback)`        | BunÏóêÏÑú ÎπÑÎèôÍ∏∞ Ïã§Ìñâ                  |
| `inDenoAsync(callback)`       | DenoÏóêÏÑú ÎπÑÎèôÍ∏∞ Ïã§Ìñâ                 |
| `onNotBrowserAsync(callback)` | Î∏åÎùºÏö∞Ï†ÄÍ∞Ä ÏïÑÎãå ÌôòÍ≤ΩÏóêÏÑú ÎπÑÎèôÍ∏∞ Ïã§Ìñâ |
| `onNotNodejsAsync(callback)`  | Node.jsÍ∞Ä ÏïÑÎãå ÌôòÍ≤ΩÏóêÏÑú ÎπÑÎèôÍ∏∞ Ïã§Ìñâ  |
| `onNotBunAsync(callback)`     | BunÏù¥ ÏïÑÎãå ÌôòÍ≤ΩÏóêÏÑú ÎπÑÎèôÍ∏∞ Ïã§Ìñâ      |
| `onNotDenoAsync(callback)`    | DenoÍ∞Ä ÏïÑÎãå ÌôòÍ≤ΩÏóêÏÑú ÎπÑÎèôÍ∏∞ Ïã§Ìñâ     |
| `onUnknownAsync(callback)`    | Ïïå Ïàò ÏóÜÎäî ÌôòÍ≤ΩÏóêÏÑú ÎπÑÎèôÍ∏∞ Ïã§Ìñâ      |

#### Îçî Ïù¥ÏÉÅ ÏÇ¨Ïö©ÎêòÏßÄ ÏïäÎäî Ìï®Ïàò (Legacy Support)

> ‚ö†Ô∏è **Deprecated**: Ïù¥ Ìï®ÏàòÎì§ÏùÄ Ïó¨Ï†ÑÌûà ÏÇ¨Ïö© Í∞ÄÎä•ÌïòÏßÄÎßå Ìñ•ÌõÑ Î≤ÑÏ†ÑÏóêÏÑú Ï†úÍ±∞Îê† ÏòàÏ†ïÏûÖÎãàÎã§. ÏúÑÏùò Í∂åÏû• Ìï®ÏàòÎ•º ÏÇ¨Ïö©Ìï¥ Ï£ºÏÑ∏Ïöî.

| Ìï®Ïàò                          | Í∂åÏû• ÎåÄÏïà                        |
| ----------------------------- | -------------------------------- |
| `onBrowserAsync(callback)`    | `inBrowserAsync(callback)`       |
| `onNodejsAsync(callback)`     | `inNodejsAsync(callback)`        |
| `onBunAsync(callback)`        | `inBunAsync(callback)`           |
| `onDenoAsync(callback)`       | `inDenoAsync(callback)`          |

## üìã Î¶¥Î¶¨Ïä§ ÎÖ∏Ìä∏

### 1.2.1

- üìö **Î¨∏ÏÑúÌôî**: Ìè¨Í¥ÑÏ†ÅÏù∏ JSDoc Í∞úÏÑ†
  - Î™®Îì† Ìï®ÏàòÏôÄ ÌÉÄÏûÖÏóê ÎåÄÌïú ÏÉÅÏÑ∏Ìïú JSDoc Ï£ºÏÑù Ï∂îÍ∞Ä
  - ÏòàÏ†ú Î∞è ÏÇ¨Ïö©Î≤ï Î¨∏ÏÑú Í∞úÏÑ†
  - Î†àÍ±∞Ïãú Ìï®ÏàòÏóê `@deprecated` ÌÉúÍ∑∏ Ï∂îÍ∞Ä
  - ÌÉÄÏûÖ Î¨∏ÏÑúÌôî Î∞è ÏÉÅÌò∏ Ï∞∏Ï°∞ Ìñ•ÏÉÅ

- ‚ú® **API Í∞úÏÑ†**: ÏÑ†Ìò∏ÌïòÎäî Ìï®Ïàò Î™ÖÎ™ÖÎ≤ï ÎèÑÏûÖ
  - ÏÉàÎ°úÏö¥ Í∂åÏû• Ìï®ÏàòÎì§: `inBrowser`, `inNodejs`, `inBun`, `inDeno`, `inBrowserAsync` Îì±
  - Î†àÍ±∞Ïãú Ìï®ÏàòÎì§ (`onBrowser`, `onNodejs` Îì±)ÏùÄ Îçî Ïù¥ÏÉÅ ÏÇ¨Ïö©ÎêòÏßÄ ÏïäÏßÄÎßå Ïó¨Ï†ÑÌûà ÏßÄÏõê
  - ÏÉàÎ°úÏö¥ ÌôòÍ≤Ω Í∞êÏßÄ ÌîåÎûòÍ∑∏ Ï∂îÍ∞Ä: `isUnknown`, `isNotUnknown`
  - Î™®Îì† deprecated Ìï®ÏàòÏóê Ï†ÅÏ†àÌïú ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖò Í∞ÄÏù¥Îìú Ìè¨Ìï®

### 1.2.0

- üêõ **Î≤ÑÍ∑∏ ÏàòÏ†ï**: `on*` Ìï®ÏàòÎì§Ïù¥ ÏûòÎ™ªÎêú ÌôòÍ≤ΩÏóêÏÑú Ïã§ÌñâÎê† Ïàò ÏûàÎäî Ï§ëÏöîÌïú Î¨∏Ï†ú Ìï¥Í≤∞
  - Ïù¥Ï†ÑÏóêÎäî ÌôòÍ≤ΩÎ≥Ñ Ìï®Ïàò ÎÇ¥Ïùò ÏΩîÎìúÍ∞Ä ÏùòÎèÑÌïòÏßÄ ÏïäÏùÄ ÌôòÍ≤ΩÏóêÏÑú Ïã§ÌñâÎê† Ïàò ÏûàÏóàÏùå
  - Ïù¥Ï†ú ÏΩîÎìú Ïã§Ìñâ Ï†ÑÏóê ÌôòÍ≤Ω Í≤ÄÏÇ¨Î•º ÏóÑÍ≤©ÌïòÍ≤å ÏàòÌñâ
  - Î™®Îì† ÌôòÍ≤ΩÎ≥Ñ Ìï®ÏàòÏóê Ï†ÅÏö© (`onNodejs`, `onBrowser`, `onBun`, `onDeno` Îì±)

## ü§ù Í∏∞Ïó¨ÌïòÍ∏∞

Í∏∞Ïó¨Îäî Ïñ∏Ï†úÎÇò ÌôòÏòÅÌï©ÎãàÎã§! Pull RequestÎ•º ÏûêÏú†Î°≠Í≤å Ï†úÏ∂úÌï¥ Ï£ºÏÑ∏Ïöî.

## üìÑ ÎùºÏù¥ÏÑ†Ïä§

[MIT ÎùºÏù¥ÏÑ†Ïä§](LICENSE) - Ïó¨Îü¨Î∂ÑÏùò Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏóê ÏûêÏú†Î°≠Í≤å ÏÇ¨Ïö©ÌïòÏã§ Ïàò ÏûàÏäµÎãàÎã§.